<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tiktokLiveApp</title>
    <meta name="description" content="A chat reader for TikTok LIVE utilizing TikTok-Live-Connector and Socket.IO to forward the data to the client. This demo project uses the unofficial TikTok API to retrieve chat comments, gifts and other events from TikTok LIVE.">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="connection.js"></script>
<script src="app.js"></script>
<script type="module" src="renderer.js"></script>
<script src="localstorage.js"></script>
<script src="tmi.min.js"></script>
<script src="TTSmain.js"></script>
<script src="minejs.js"></script>
<script src="Settings.js"></script>
<script src="indexdb.js" type="module"></script>
<link rel="stylesheet" href="styles.css">
<link href="select2.css" rel="stylesheet" />
<link href="output.css" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <!-- Content-Security
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdnjs.cloudflare.com 'unsafe-inline' https://unpkg.com; style-src 'self' 'unsafe-inline'; connect-src 'self' wss://tiktok-chat-reader.zerody.one/ https://tiktok-chat-reader.zerody.one/ wss://irc-ws.chat.twitch.tv http://localhost:3001 http://localhost:3000 https://p16-pu-sign-useast8.tiktokcdn-us.com/ https://p77-sign-va.tiktokcdn.com/ https://p19-pu-sign-useast8.tiktokcdn-us.com/ https://p16-sign-useast2a.tiktokcdn.com/ http://localhost:8081 https://api.streamelements.com https://p16-pu-sign-useast8.tiktokcdn-us.com/ https://p16-sign-va.tiktokcdn.com/ http://localhost:8911; img-src 'self' https://p16-sign-va.tiktokcdn.com/ https://p16-pu-sign-useast8.tiktokcdn-us.com/; media-src 'self' blob:;"> 
meta
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://unpkg.com;
  connect-src 'self' https://localhost https://unpkg.com https://tiktok-chat-reader.zerody.one wss://irc-ws.chat.twitch.tv wss://tiktok-chat-reader.zerody.one http://localhost:3001 https://api.streamelements.com;
  style-src 'self' 'unsafe-inline';
">
 -->
 <div class="title-bar">
    <h1>tiktokLiveApp</h1>
</div>
    <style>
        button {
            background-color: #57af4c;
        }
        select {
            background-color: #c4c4c4;
        }
    </style>
</head>
<body class="font-sans font-bold text-white text-xl mt-10 w-full h-full bg-gray-900 flex flex-col">

    <div class="parent">
        <div class="divmenu">
            <input type="checkbox" id="menu-toggle" >

            <div class="tabs-menu">
                <label for="menu-toggle" class="menu-button">
                    <img src="svg/pinboard.svg" class="icon">
                    <span class="text">Menu</span>
                </label>
                 <!-- Creamos un Fijador para el menú de tabs -->
                <div id="stateText"></div>
                <input type="text" placeholder="tu usuario @uniqueid" id="uniqueIdInput">
                <input type="button" id="connectButton" value="Conectar">
                <div class="tab" data-tab="tab1">
                    <img src="svg/chat.svg" class="icon">
                    <span class="text">Chat LIVE</span>
                </div>
                <div class="tab" data-tab="tab2">
                    <img src="svg/minecraft.svg" class="icon">
                    <span class="text">Minecraft</span>
                </div>
                <div class="tab" data-tab="tab3">
                    <img src="svg/sounds.svg" class="icon">
                    <span class="text">Sonidos</span>
                </div>
                <div class="tab" data-tab="tab4">
                    <img src="svg/actionsevent.svg" class="icon">
                    <span class="text">Overlay</span>
                </div>
                <div class="tab" data-tab="tab5">
                    <img src="svg/gift.svg" class="icon">
                    <span class="text">Gifnames</span>
                </div>
                <div class="tab" data-tab="tab6">
                    <img src="svg/settings.svg" class="icon">
                    <span class="text">Settings</span>
                </div>
                <div class="indicator"></div>
                <label class="cyberpunk-checkbox-label">
                    <input type="checkbox" class="cyberpunk-checkbox" id="sendDataCheckbox" checked>
                    mixitupAlerts
                </label>
            </div>
 
        </div>
        
        <div class="divcontent">
            <div id="tab1" class="tab-content">
                <!-- 
                    <h1>Connection status: <strong id='status'></strong></h1>
            -->
            
            <div class="containerbox">
                <div class="inputFields">
                    <div class="LiveContainer">
                        <div class="chat1 chatcontainer">Chats</div>
                        <div class="gift2 giftcontainer">Gifts</div>
                        <div class="events3 eventscontainer">Events</div>
                    </div>
                </div>

            </div>
                <div class="containerbox">
                    <div class="flexbox">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">General Settings</h2>
                            </div>
                            <div class="card-content space-y-4">
                                    <input type="checkbox" id="voiceenabled" checked>
                                    <label for="voiceenabled">Enabled</label>

                                <div class="card-subcontent">
                                    <label class="voiceselect-label" for="selectvoice1">Voz1</label>
                                    <input type="radio" name="selectvoice" id="selectvoice1" checked>
                                    <div id="voiceSelectContainer" class="relative m-3 content-center"></div>

                                    <label class="voiceselect-label" for="selectvoice2">Voz2</label>
                                    <input type="radio" name="selectvoice" id="selectvoice2">

                                <div class="grid">
                                    <select id="voiceSelect" class="form-control bg-slate-600 w-2/4"></select>
                                    <div class="flex">                                <label for="randomVoice">Random Voice</label>
                                        <input type="checkbox" id="randomVoice" checked></div>
                                    <div class="flex">                                <label for="randomSpeed"><small>random speed</small></label>
                                        <input type="checkbox" id="randomSpeed">
                                        <input type="range" id="randomSpeedValue" name="randomSpeedValue" value="1" min="0.1" max="2" step="0.1">
                                        </div>
                                    <div class="flex">  <label for="randomPitch"><small>random pitch</small></label>
                                        <input type="checkbox" id="randomPitch">
                                        <input type="range" id="randomPitchValue" name="randomPitchValue" value="1" min="0.1" max="2" step="0.1">
                                    </div>
                                    <div class="flex">
                                        <label for="default-speed">Default Speed</label>
                                        <input type="range" id="default-speed" class="input-range">
                                    </div>
                                    <div class="flex">
                                        <label for="default-pitch">Default Pitch</label>
                                        <input type="range" id="default-pitch" class="input-range">
                                    </div>
                                    <small>Speech Volume</small>
                                    <label for="volume">
                                        <i class="bi bi-volume-up-fill"></i></label>
                                        <input id="volume" type="range" min="0" max="1" value="1" step="0.1" class="input-range">
                                    
                                </div>
                                </div>
                            </div>
                        </div>
                
                        <audio id="audiotrack"></audio>
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Allowed Users</h2>
                            </div>
                            <div class="card-content space-y-4 text-lg">
                                <div class="flex items-center">
                                    <input type="checkbox" id="allUsers" checked>
                                    <label for="allUsers">All Users</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="followers" checked>
                                    <label for="followers">Followers</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="isSubscriber" checked>
                                    <label for="isSubscriber">isSubscriber</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="isModerator" checked>
                                    <label for="isModerator">isModerator</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="team-members" checked>
                                    <label for="team-members">
                                        Team Members <span>Min. Level: 1</span>
                                    </label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="top-gifters" checked>
                                    <label for="top-gifters">
                                        Top Gifters <span>Top: 3</span>
                                    </label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="allowed-users-list" checked>
                                    <label for="allowed-users-list">
                                        Allowed Users from list <span>Manage List</span>
                                    </label>
                                </div>
                            </div>
                            <button onclick="getCheckboxValues()">Obtener Valores</button>
                        
                            <script>
                                function getCheckboxValues() {
                                    const checkboxes = document.querySelectorAll('.card-content input[type="checkbox"]');
                                    const values = {};
                                    checkboxes.forEach(checkbox => {
                                        values[checkbox.id] = checkbox.checked;
                                    });
                                    console.log(values);
                                }
                            </script>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Comment Types</h2>
                            </div>
                            <div class="card-content space-y-4">
                                <label>Read...</label>
                                <div>
                                    <div class="flex items-center">
                                        <input type="radio" name="comment-type" value="any-comment" id="any-comment" checked>
                                        <label for="any-comment">Any comment</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="radio" name="comment-type" value="dot-comment" id="dot-comment">
                                        <label for="dot-comment">Comments starting with dot (.)</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="radio" name="comment-type" value="slash-comment" id="slash-comment">
                                        <label for="slash-comment">Comments starting with slash (/)</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="radio" name="comment-type" value="command-comment" id="command-comment">
                                        <label for="command-comment">Comments starting with Command:</label>
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <label for="command">Command</label>
                                    <input type="text" id="command" placeholder="!speak">
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">More Settings</h2>

                            </div>    
                            <div class="card-content space-y-4">
                                <label class="cyberpunk-checkbox-label">
                                    leer follower prefijo:
                                    <input type="checkbox" class="cyberpunk-checkbox" id="readUserMessage" checked>
                                    <input type="text" id="prefixuserfollow" value="te sige">
                                </label>
                                <label class="cyberpunk-checkbox-label">
                                    leer regalos prefijo:
                                    <input type="checkbox" class="cyberpunk-checkbox" id="readGiftEvent" checked>
                                    <input type="text" id="prefixGiftEvent" value="regalo">
                                </label>
                                <label class="cyberpunk-checkbox-label">
                                    leer usuario y mensaje prefijo:
                                    <input type="checkbox" class="cyberpunk-checkbox" id="readUserMessage" checked>
                                    <input type="text" id="prefixusermessage" value="dice">
                                </label>
                                <label class="cyberpunk-checkbox-label">solo mensajes =>3
                                    <input type="checkbox" class="cyberpunk-checkbox" id="messagelenght3" checked>
                                    </label>
                            </div>
                        </div>
                    </div>
                    <input type="text" id="testvoice">
                    <button id="testvoicebtn">testvoice</button>
                </div>
                <div class="containerbox">
                <div>filtrar chat //:</div>
                <textarea id="filter-words"></textarea>
                <div>WitheList:</div>
                <textarea id="filter-users"></textarea>
                <div>

                    puntos del canal +1 -10
                    <input type="number" id="users-points" value="2" max="99" min="0" class="bg-slate-600 w-20">
                    <label class="cyberpunk-checkbox-label">si el usuario no tiene puntos no lee
                    <input type="checkbox" class="cyberpunk-checkbox" id="userpointsCheckbox" checked>
                    </label>

        
                    <label class="cyberpunk-checkbox-label">añadir puntos por nivel    
                    <input type="checkbox" class="cyberpunk-checkbox" id="userlevelCheckbox" checked>
                                 <input type="number" id="users-level" value="20" max="50" min="0" class="bg-slate-600 w-20">
                </label>
                </div>
                </div>
                
                <label class="cyberpunk-checkbox-label">
                <input type="checkbox" class="cyberpunk-checkbox" id="overlayOff">
                overlay on/off</label>
                            <label class="cyberpunk-checkbox-label">
    
            </div>
            
            <div id="tab2" class="tab-content">
                <div class="containerbox">
                    <a href="https://nglmercer.github.io/TikLiveApp/docs/category/minecraftlive" target="_blank">
                        <span>Leer Tutorial Minecraft</span>
                      </a>
                    <label class="cyberpunk-checkbox-label flex items-center">
                        <input type="checkbox" class="cyberpunk-checkbox" id="MinecraftLive" checked>
                        <span class="ml-2">MinecraftLive</span> </label>
                        <form id="createBotForm" class="grid grid-cols-2 gap-4 max-w-xl mx-4">
                        <label for="keyBOT" class="justify-self-start">Nombre del Bot:</label>
                        <input type="text" id="keyBOT" name="keyBOT" value="" required>
                        <label for="keySERVER" class="justify-self-start">IP del Server:</label>
                        <input type="text" id="keySERVER" name="keySERVER" value="localhost:25565" required>
                        <div class="grid grid-cols-2 gap-2 w-80 ">
                          <button type="submit">Conectar Bot</button>
                          <button id="disconnectButton" class="deleteButton">Desconectar Bot</button>
                        </div>
                      </form>
                </div>
                <div id="resultMessage"></div>
                <div class="containerbox">
                    <h1 class="text-xl font-bold mb-4">ServerTap Plugin Configuration</h1>
                    <div class="grid grid-cols-2 gap-4 max-w-xl mx-4">
                        <label for="playerName" >Player Name</label>
                        <input type="text" id="playerName" value="@a">
                        <label for="ip" >IP</label>
                        <input type="text" id="ip" value="127.0.0.1">
                        <label for="port" >Port</label>
                        <input type="text" id="port" value="4567">
                        <label for="password" >Password</label>
                        <input type="password" id="password" class="text-gray-700" value="change_me">
                    
                
                    </div>
                    <button class="btn btn-primary" id="testConnection">Test Connection</button>
                </div>
                <div id="output"></div>

                <script>
                    document.getElementById('testConnection').addEventListener('click', function() {
                        fetch("http://localhost:4567/v1/server", {
                            method: 'GET',
                            headers: {
                                'Content-Type': 'application/json',
                                'key': 'change_me' // Cambia esto por tu clave de autenticación si es necesario
                            }
                        })
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Network response was not ok ' + response.statusText);
                            }
                            return response.json();
                        })
                        .then(data => {
                            console.log('Server status:', data);
                            document.getElementById('output').innerText = JSON.stringify(data, null, 2);
                        })
                        .catch(error => {
                            console.error('There has been a problem with your fetch operation:', error);
                            document.getElementById('output').innerText = 'Error: ' + error.message;
                        });
                    });
                    function wsconsole() {
                        document.cookie = "x-servertap-key=change_me"; // Cambia esto por tu clave de autenticación si es necesario
                        let ws = new WebSocket('ws://localhost:4567/v1/ws/console');
            
                        ws.onopen = function() {
                            console.log('Opened connection');
                            document.getElementById('output').innerText = 'Opened connection';
                            ws.send('status'); // Envía un comando para obtener el estado del servidor
                        };
            
                        ws.onmessage = function(event) {
                            console.log('Message from server:', event.data);
                            document.getElementById('output').innerText = '\n' + event.data.replaceAll('\n', '<br>');
                        };
            
                        ws.onerror = function(error) {
                            console.log('WebSocket Error:', error);
                            document.getElementById('output').innerText += '\nWebSocket Error: ' + error.message;
                        };
            
                        ws.onclose = function() {
                            console.log('Closed connection');
                            document.getElementById('output').innerText += '\nClosed connection';
                        };
                    }
                </script>
                <div class="containerbox">
                <div class="grid grid-cols-2 gap-4 max-w-xl mx-4">
                <label>Tu nombre de Minecraft:</label>
                <input type="text" id="playerNameInput" placeholder="minecraftPlayer">
                    
                <label>Comando Inicial de BOT:</label>
                <input type="text" id="InitcommandInput" placeholder="login">
                <label for="eventType" class="text-red-600 font-bold text-4xl"> Test comando:</label><div> 
                    <input type="text" id="eventType" placeholder="Evento a testear" value="gift">
                    <label for="data"></label>
                    <input type="text" id="data" placeholder="Default">
                    <button id="testHandleevent" >Test comando</button> </div>
                </div>
                </div>
                <div class="containerbox"> 
    
                    <button onclick="saveAllChanges1()">Guardar Cambios</button>
                    <input type="checkbox" id="sugerencia" class="sugerencia">
                    <label for="sugerencia">⁉️ Sugerencias</label>
                    <div class="sugerencia-content">
                        reemplaza playername       por  de  TU USUARIO DE MINECRAFT        
                        <br>
                        reemplaza uniqueId         por  del USUARIO              
                        <br>
                        reemplaza nickname         por  de  NOMBRE DE USUARIO                  
                        <br>
                        reemplaza comment          por  del COMENTARIO                   
                        <br>
                        reemplaza {milestoneLikes} por  de LOS LIKES                    
                        <br>
                        reemplaza {likes}          por  de LIKES             
                        <br>
                        reemplaza message          por  de  MENSAJE               
                        <br>
                        reemplaza giftName         por  de  LOS REGALOS                 
                        <br>
                        reemplaza repeatCount      por  de   REPETICIONES EN GIFT                 
                    </div>
                    <div>
                        <div id="chat" class="flex justify-center text-cyan-600 text-4xl">chat</div>
                        <textarea id="chatcommands" class="mx-8"></textarea>
                      </div>
                      <div>
                        <div id="follow" class="flex justify-center text-cyan-600 text-4xl">follow</div>
                        <textarea id="followcommands" class="mx-8"></textarea>
                      </div>
                      <div>
                        <div id="likes" class="flex justify-center text-cyan-600 text-4xl">likes</div>
                        <textarea id="likescommands" class="mx-8"></textarea>
                      </div>
                      <div>
                        <div id="share" class="flex justify-center text-cyan-600 text-4xl">share</div>
                        <textarea id="sharecommands" class="mx-8"></textarea>
                      </div>
                      <div>
                        <div id="welcome" class="flex justify-center text-cyan-600 text-4xl">welcome</div>
                        <textarea id="welcomecommands" class="mx-8"></textarea>
                      </div>
                      <div>
                        <div id="envelope" class="flex justify-center text-cyan-600 text-4xl">envelope</div>
                        <textarea id="envelopecommands" class="mx-8"></textarea>
                      </div>
                      <div>
                        <div id="subscribe" class="flex justify-center text-cyan-600 text-4xl">subscribe</div>
                        <textarea id="subscribecommands" class="mx-8"></textarea>
                      </div>
            </div>
                <div class="containerbox">
                    <div class="flex justify-center relative text-cyan-600 text-4xl">gift</div>
                      <div id="eventsContainer"></div>
                      <h1>Añadir eventos de minecraft Gift List</h1>
                      <select id="gifts-title" >
                      <textarea id="gifts-description" placeholder="comandos de minecraft"></textarea>
                      <button id="addgift-button">Add Gift</button>
                      <ul id="gifts-list"></ul>
                        
                      </div>
            </div>
            <script>
                // hacemos que 30 segundos despues de estar checked sugerencia se desaparece desmarcando la casilla existen vario
                // hay varios elementos con esta clase y se hara para todos de ellos
                document.querySelector('.sugerencia').addEventListener('change', function() {
                    setTimeout(function() {
                        document.querySelectorAll('.sugerencia').forEach(function(element) {
                            element.checked = false;
                        });
                    }, 30000);
                });
            </script>
        <div id="tab3" class="tab-content">
            <div class="containerbox">
            <label class="cyberpunk-checkbox-label">
                <input class="cyberpunk-checkbox"  id="sendsoundCheckbox" type="checkbox" checked>
    
                <div class="checkmark">Sonidos</div>
        </label>
        <div class="container mx-auto p-4">
            <h1 class="text-2xl font-bold mb-4">Audio Table</h1>
            <label for="addButton" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Add New Event</label>
            <input type="checkbox" id="addButton" class="hidden">
            <div class="modal-fade" id="audioModal" tabindex="-1" role="dialog" aria-labelledby="audioModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-gray-900 text-white">
                            <h5 class="modal-title" id="audioModalLabel">Select Audio from MyInstants</h5>
                            <button type="button" class="deleteButton" data-dismiss="modal" aria-label="Close">
                            </button>
                        </div>
                        <div class="modal-body bg-gray-900 text-white">
                            <!-- Search bar -->
                            <input type="text" id="searchBox" class="form-control mb-4" placeholder="Search for audio...">
                            <button id="searchButton" class="btn btn-primary">Search</button>
                            <!-- Audio list will be displayed here -->
                            <div id="audioList"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <button id="testButton" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded-sm">Test</button>
            <input type="text" id="test-event" class="py-1 px-2 rounded-sm">    
            <table class="table-auto w-full mt-4 border">
              <thead>
                <tr>
                  <th>Action</th>
                  <th>Volume</th>
                  <th>Enable</th>
                  <th>Event Name</th>
                  <th>Sound Effect</th>
                  <th>Delete</th>
                </tr>
              </thead>
              <tbody id="audioTableBody">
                <!-- Table rows will be added here -->
              </tbody>
            </table>
          </div>
          <!-- Modal for selecting audio -->
          <script>
            document.addEventListener('click', function(event) {
                const modal = document.querySelector('.modal-fade');
                const addButton = document.getElementById('addButton');
                
                // Si el modal está visible y se hace clic fuera del contenido del modal, ocúltalo
                if (addButton.checked && !modal.contains(event.target) && event.target !== addButton) {
                    addButton.checked = false;
                }
            });
            
          </script>
        </div>
        </div>
        <div id="tab4" class="tab-content">
            <div class="containerbox">       
                <div class="center-element">arrastre elementos aquí</div>
         
                <div class="file-container " id="drop-area">
                    <ul id="file-list"> </ul>
                </div>
                    
                </div>
                
            <div class="containerbox">
                    <div id="tab5-action"></div>
                    <button id="openaction" class="button-center">Añadir Accion&Eeventos</button>
                    <button id="closeaction" class="deleteButton">Cerrar</button>
                    <div id="loadrowactionsevents"></div>
                    <div>
                        <input type="text" id="action-name" placeholder="action name">
                        <button id="testactionevent" class="btn btn-primary">test</button>
                    </div>
    
            </div>
            <div class="containerbox">
                <div class="modalhtml"></div>
        
                <button id="open" style="display: none;">open</button>
                <button id="close" style="display: none;">close</button>
                
                <div class="inputFields">
                    <input id="channel" type="text" placeholder="Twitch channel" ><button id="channel-button" class="btn btn-primary" value="GOOO" type="button">GOOO</button>
                </div>
                <div id="chatbox"></div>
                </div>
        </div>
    
        
        <div id="tab5" class="tab-content">
            <div id="giftContainer" class="gift-container">
                <!-- Aquí se agregarán dinámicamente los cuadros de regalo -->
            </div>
            <div id="downloadButtonContainer"></div>
    
        </div>
        <div id="tab6" class="tab-content">
            <div class="containerbox">
                <label for="importButton" class="custom-file-upload">subir⚙</label>
                <input type="file" id="importButton" style="display:none">
                <button onclick="importSettings()">Importar⚙</button>
                <button id="exportButton" onclick="exportSettings()">Exportar⚙</button>
                <span id="loadingIndicator" style="display: none;">Cargando...</span>
        </div>

    </div>    
    </div>
    </div>
    <div class="divfooter">

        <div id="roomStats"></div>    
        <audio id="audio" controls autoplay>
        </audio>
        <audio id="audio" autoplay></audio>
        <audio id="soundPlayer" type="audio/mp3"></audio>
        <input id="skip-button" type="button" value="SKIP"> </button>

        <div id="durationDisplay"></div>
    </div>
        <!-- Contenido de las pestañas -->

    <script>
        document.addEventListener('DOMContentLoaded', () => {
          const tabs = document.querySelectorAll('.tab');
          const tabContents = document.querySelectorAll('.tab-content');
          const indicator = document.querySelector('.indicator');
      
          function activateTab(tab) {
              const tabId = tab.getAttribute('data-tab');
              const content = document.getElementById(tabId);
      
              // Deactivate all tabs and content
              tabs.forEach(t => t.classList.remove('active'));
              tabContents.forEach(c => c.classList.remove('active'));
      
              // Activate the selected tab and content
              tab.classList.add('active');
              content.classList.add('active');
              //console.log(tab.offsetLeft, tab.offsetWidth, tab.offsetHeight, tab.offsetTop)

              // Update indicator position and width
              indicator.style.top = `${tab.offsetTop}px`;
              indicator.style.width = `3px`;
              indicator.style.height = `${tab.offsetHeight}px`;
      
              // Store the last active tab in localStorage
              localStorage.setItem('activeTab', tabId);
          }
      
          // Add event listeners to tabs
          tabs.forEach(tab => {
              tab.addEventListener('click', () => activateTab(tab));
          });
      
          // Check for the last active tab in localStorage
          const lastActiveTab = localStorage.getItem('activeTab');
          if (lastActiveTab) {
              const tab = document.querySelector(`.tab[data-tab="${lastActiveTab}"]`);
              if (tab) {
                  activateTab(tab);
              } else {
                  activateTab(tabs[0]); // Fallback to the first tab if the stored tab doesn't exist
              }
          } else {
              activateTab(tabs[0]); // Default to the first tab
          }
      });
      
      </script>
</body>
<script src="script.js"></script>

</html>