<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tiktokLiveApp</title>
    <meta name="description" content="Tiktok Live App">
    <meta http-equiv="Permissions-Policy" content="interest-cohort=()">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="connection.js"></script>
<script type="module" src="app.js"></script>
<script type="module" src="renderer.js"></script>
<script type="module" src="functions/update.js"></script>
<script type="module" src="functions/YoutubeApi.js"></script>
<script src="localstorage.js"></script>
<script src="tmi.min.js"></script>
<!-- <script src="TTSmain.js"></script> -->
<script src="minejs.js"></script>
<script src="Settings.js"></script>
<script type="module" src="indexdb.js"></script>
<link rel="stylesheet" href="styles.css">
<link href="select2.css" rel="stylesheet" />
<link href="output.css" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />

<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script type="module" src="./functions/calculatecommand.js"></script>
    <!-- Content-Security
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdnjs.cloudflare.com 'unsafe-inline' https://unpkg.com; style-src 'self' 'unsafe-inline'; connect-src 'self' wss://tiktok-chat-reader.zerody.one/ https://tiktok-chat-reader.zerody.one/ wss://irc-ws.chat.twitch.tv http://localhost:3001 http://localhost:3000 https://p16-pu-sign-useast8.tiktokcdn-us.com/ https://p77-sign-va.tiktokcdn.com/ https://p19-pu-sign-useast8.tiktokcdn-us.com/ https://p16-sign-useast2a.tiktokcdn.com/ http://localhost:8081 https://api.streamelements.com https://p16-pu-sign-useast8.tiktokcdn-us.com/ https://p16-sign-va.tiktokcdn.com/ http://localhost:8911; img-src 'self' https://p16-sign-va.tiktokcdn.com/ https://p16-pu-sign-useast8.tiktokcdn-us.com/; media-src 'self' blob:;"> 
meta
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://unpkg.com;
  connect-src 'self' https://localhost https://unpkg.com https://tiktok-chat-reader.zerody.one wss://irc-ws.chat.twitch.tv wss://tiktok-chat-reader.zerody.one http://localhost:3001 https://api.streamelements.com;
  style-src 'self' 'unsafe-inline';
">
 -->
 <div class="title-bar">
    <h1>tiktokLiveApp</h1>
</div>
    <style>

        select {
            background-color: #29292900;
            border: 2px solid #2c18e6;
        }
        select:focus {
            background-color: rgba(0, 0, 0, 0.308);
            color: black;
        }
    </style>
</head>
<body class="font-sans font-bold text-white text-xl mt-10 w-full bg-gray-900 flex flex-col">

    <div class="parent">
        <div class="divmenu">
            <input type="checkbox" id="menu-toggle" >

            <div class="tabs-menu">
                <label for="menu-toggle" class="menu-button">
                    <img src="svg/pinboard.svg" class="icon">
                </label>
                 <!-- Creamos un Fijador para el menú de tabs -->
                <div id="stateText"></div>
                <input type="text" placeholder="tu usuario @uniqueid" id="uniqueIdInput">
                <input type="button" class="custombutton" id="connectButton" value="Conectar">
                <div class="tabs" data-tab="tab1">
                    <img src="svg/chat.svg" class="icon">
                    <a>Chat LIVE</a>
                </div>
                <div class="tabs" data-tab="tab2">
                    <img src="svg/minecraft.svg" class="icon">
                    <a>Minecraft</a>
                </div>
                <div class="tabs" data-tab="tab3">
                    <img src="svg/sounds.svg" class="icon">
                    <a>Sonidos</a>
                </div>
                <div class="tabs" data-tab="tab4">
                    <img src="svg/actionsevent.svg" class="icon">
                    <a>Overlay</a>
                </div>
                <div class="tabs" data-tab="tab5">
                    <img src="svg/gift.svg" class="icon">
                    <a>Gifnames</a>
                </div>
                <div class="tabs" data-tab="tab6">
                    <img src="svg/settings.svg" class="icon">
                    <a>Settings</a>
                </div>
                <button class="btn btn-primary" id="Actualizar">Actualizar</button>
                <div id="Actualizar-status"></div>

                <label class="cyberpunk-checkbox-label">
                    <input type="checkbox" class="cyberpunk-checkbox" id="overlayOff">
                    overlay on/off</label>
                  
                    <label class="cyberpunk-checkbox-label">
            </div>
 
        </div>
        
        <div class="divcontent">
            <div id="tab1" class="tab-content">
                <!-- 
                    <h1>Connection status: <strong id='status'></strong></h1>
            -->
            
            <div class="containerbox">
                <div class="inputFields">
                    <div class="LiveContainer">
                        <div class="chat1 chatcontainer">Chats</div>
                        <div class="gift2 giftcontainer">Gifts</div>
                        <div class="events3 eventscontainer">Events</div>
                    </div>
                </div>

            </div>
                <div class="containerbox">
                    <div class="flexbox">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">General Settings</h2>
                            </div>
                            <div class="card-content space-y-4">
                                    <input type="checkbox" id="voiceenabled" checked>
                                    <label for="voiceenabled">Enabled</label>

                                <div class="card-subcontent">
                                    <label class="label cursor-pointer" for="selectvoice1">Voz1</label>
                                    <input type="radio" name="selectvoice" id="selectvoice1" class="radio checked:bg-blue-300" checked>
                                    <div id="voiceSelectContainer" class="relative m-3 content-center"></div>

                                    <label class="label cursor-pointer" for="selectvoice2">Voz2</label>
                                    <input type="radio" name="selectvoice" id="selectvoice2" class="radio checked:bg-blue-500">

                                <div class="grid">
                                    <select id="voiceSelect" class="select select-info"></select>
                                    <div class="flex">                                <label for="randomVoice">Random Voice</label>
                                        <input type="checkbox" id="randomVoice" checked></div>
                                    <div class="flex">                                <label for="randomSpeed"><small>random speed</small></label>
                                        <input type="checkbox" id="randomSpeed">
                                        <input type="range" class="range range-sm" id="randomSpeedValue" name="randomSpeedValue" value="1" min="0.1" max="2" step="0.1">
                                        </div>
                                    <div class="flex">  <label for="randomPitch"><small>random pitch</small></label>
                                        <input type="checkbox" id="randomPitch">
                                        <input type="range" class="range range-sm" id="randomPitchValue" name="randomPitchValue" value="1" min="0.1" max="2" step="0.1">
                                    </div>
                                    <div class="flex">
                                        <label for="default-speed">Default Speed</label>
                                        <input type="range" id="default-speed" class="range range-sm">                                   </div>
                                    <div class="flex">
                                        <label for="default-pitch">Default Pitch</label>
                                        <input type="range" id="default-pitch" class="range range-sm">                                   </div>
                                    <small>Speech Volume</small>
                                    <label for="volume">
                                        <i class="bi bi-volume-up-fill"></i></label>
                                        <input id="volume" type="range" min="0" max="1" value="1" step="0.1" class="range range-sm">
                                    
                                </div>
                                </div>
                            </div>
                        </div>
                
                        <audio id="audiotrack"></audio>
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Allowed Users</h2>
                            </div>
                            <div class="card-content space-y-4 text-lg">
                                <div class="flex items-center">
                                    <input type="checkbox" id="allUsers" checked>
                                    <label for="allUsers">All Users</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="followRole" checked>
                                    <label for="followRole">Followers</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="isSubscriber" checked>
                                    <label for="isSubscriber">isSubscriber</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="isModerator" checked>
                                    <label for="isModerator">isModerator</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="isNewGifter" checked>
                                    <label for="isNewGifter">isNewGifter</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="teamMemberLevel" checked>
                                    <label for="teamMemberLevel">
                                        Team Members <span>Min. Level:</span>
                                    </label>
                                    <input type="number" id="teamMemberLevel-value" class="input input-bordered w-12" value="1" min="0">
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="topGifterRank" checked>
                                    <label for="topGifterRank">
                                        Top Gifters <span>Top:</span>
                                    </label>
                                    <input type="number" id="topGifterRank-value" class="input input-bordered w-12" value="3" min="0">
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="allowed-users-list" checked>
                                    <label for="allowed-users-list">
                                        Allowed Users from list <span>Manage List</span>
                                    </label>
                                </div>
                            </div>
                            
                            <button class="custombutton" onclick="getCheckboxValues()">Obtener Valores</button>
                        
                            <script>
                                function getCheckboxValues() {
                                    const checkboxes = document.querySelectorAll('.card-content input[type="checkbox"]');
                                    const values = {};
                                    checkboxes.forEach(checkbox => {
                                        values[checkbox.id] = checkbox.checked;
                                    });
                                    console.log(values);
                                }
                            </script>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Comment Types</h2>
                            </div>
                            <div class="card-content space-y-4">
                                <label>Read...</label>
                                <div>
                                    <div class="flex items-center">
                                        <input type="radio" name="comment-type" value="any-comment" id="any-comment" class="radio checked:bg-blue-300" checked>
                                        <label for="any-comment">Any comment</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="radio" name="comment-type" value="dot-comment" id="dot-comment" class="radio checked:bg-blue-300">
                                        <label for="dot-comment">Comments starting with dot (.)</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="radio" name="comment-type" value="slash-comment" id="slash-comment" class="radio checked:bg-blue-300">
                                        <label for="slash-comment">Comments starting with slash (/)</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="radio" name="comment-type" value="command-comment" id="command-comment" class="radio checked:bg-blue-300">
                                        <label for="command-comment">Comments starting with Command:</label>
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <label for="command">Command</label>
                                    <input type="text" id="command" placeholder="!speak">
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">More Settings</h2>

                            </div>    
                            <div class="card-content space-y-4">
                                <label class="cyberpunk-checkbox-label">
                                    leer follower prefijo:
                                    <input type="checkbox" class="cyberpunk-checkbox" id="readUserMessage" checked>
                                    <input type="text" id="prefixuserfollow" value="te sige">
                                </label>
                                <label class="cyberpunk-checkbox-label">
                                    leer regalos prefijo:
                                    <input type="checkbox" class="cyberpunk-checkbox" id="readGiftEvent" checked>
                                    <input type="text" id="prefixGiftEvent" value="regalo">
                                </label>
                                <label class="cyberpunk-checkbox-label">
                                    leer usuario y mensaje prefijo:
                                    <input type="checkbox" class="cyberpunk-checkbox" id="readUserMessage" checked>
                                    <input type="text" id="prefixusermessage" value="dice">
                                </label>
                                <label class="cyberpunk-checkbox-label">solo mensajes =>3
                                    <input type="checkbox" class="cyberpunk-checkbox" id="messagelenght3" checked>
                                    </label>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Filtros</h2>
                            </div>
                            <div class="card-content space-y-4">
                                <p>BlackList: Input de palabras que no aparecerán en el chat</p>
                                <input type="text" id="filter-words" class="border p-2 mr-2">
                                <button class="custombutton" id="addfilter-words" >✅word</button>
                                <button id="load-known-filters" class="custombutton">Añadir filtros conocidos</button>
                                <div id="containerfilter-words" class="overflow-y-auto max-h-28 space-y-2 mt-2"></div>
                            </div>
                        
                            <div class="card-content space-y-4">
                                <p>WhiteList: Input de usuarios que aparecerán en el chat++</p>
                                <input type="text" id="filter-users" class="border p-2 mr-2">
                                <button class="custombutton" id="addfilter-users" >✅user</button>
                                <div id="containerfilter-users" class="overflow-y-auto max-h-28 space-y-2 mt-2"></div>
                            </div>
                        </div>
                        <div class="card">
                            puntos iniciales del canal
                            <input type="number" id="users-points" value="2" max="99" min="0" class="bg-slate-700 w-20">
                            <label class="cyberpunk-checkbox-label">sin puntos no lee
                            <input type="checkbox" class="cyberpunk-checkbox" id="userpointsCheckbox" checked>
                            </label>
        
                
                            <label class="cyberpunk-checkbox-label">añadir puntos x lvl   
                            <input type="checkbox" class="cyberpunk-checkbox" id="userlevelCheckbox" checked>
                                         <input type="number" id="users-level" value="20" max="50" min="0" class="bg-slate-700 w-20">
                        </label>
                        </div>
                    </div>

                </div>
                <div class="containerbox">

                    <div id="customCommandContainer"></div>
                    <input id="chatInput" type="text">
                    <button id="sendButton">Enviar</button>
                            
                </div>
            </div>
            <div id="tab2" class="tab-content">
                <div class="containerbox">
                    <a href="https://nglmercer.github.io/TikLiveApp/docs/category/minecraftlive" target="_blank">
                        <span class="link link-primary">Leer Tutorial Minecraft</span>
                      </a>
                    <label class="cyberpunk-checkbox-label flex items-center">
                        <input type="checkbox" class="checkbox checkbox-lg" id="MinecraftLive" checked>
                        <span class="ml-2 hover:text-blue-500">MinecraftLive</span> </label>
                        <div class="grid grid-cols-2 gap-4 max-w-xl mx-4">
                            <label>Tu nombre de Minecraft:</label>
                            <input type="text" id="playerNameInput" placeholder="minecraftPlayer">
                                
                            <label>Comando Inicial de BOT:</label>
                            <input type="text" id="InitcommandInput" placeholder="login">
                            </div>
                        <div class="collapse collapse-plus bg-slate-900 border-cyan-700 border-4 hover:bg-slate-700">
                            <input type="radio" id="acordiondefaultcheck" name="my-accordion-2" checked="checked" />
                            <div class="collapse-title text-xl font-medium">Minecraft bot server</div>
                            <div class="collapse-content">
                                <form id="createBotForm" class="grid grid-cols-2 gap-4 max-w-xl mx-4">
                                    <label for="keyBOT" class="justify-self-start">Nombre del Bot:</label>
                                    <input type="text" id="keyBOT" name="keyBOT" value="" required>
                                    <label for="keySERVER" class="justify-self-start">IP del Server:</label>
                                    <input type="text" id="keySERVER" name="keySERVER" value="localhost:25565" required>
                                    <label for="versionminecraft" class="justify-self-start">Version:</label>
                                    <input type="text" id="versionminecraft" name="versionminecraft" value="1.20.4">
                                    <div class="grid grid-cols-2 gap-2 w-120 ">
                                      <button type="submit" class="custombutton">Conectar Bot</button>
                                      <button id="disconnectButton" class="deleteButton">Desconectar Bot</button>
                                      <div id="botStatus"></div>
                                    </div>
                                  </form>
                            </div>
                          </div>
                          <div class="collapse collapse-plus bg-slate-900 border-cyan-700 border-4 hover:bg-slate-700">
                            <input type="radio" id="acordiondefaultnocheck1" name="my-accordion-2" />
                            <div class="collapse-title text-xl font-medium">Rcon server minecraft</div>
                            <div class="collapse-content">
                                <h1 class="text-xl font-bold mb-4">Rcon server and port</h1>
                                
                            <div class="grid grid-cols-2 gap-4 max-w-xl mx-4">
                                <label for="Rconip" >IP</label>
                                <input type="text" id="Rconip" value="209.222.98.146">
                                <label for="Rconport" >Port</label>
                                <input type="text" id="Rconport" value="25795">
                                <label for="Rconpassword" >Password</label>
                                <input type="text" id="Rconpassword" value="hello">
                            
                            </div>
                            <button class="btn btn-primary" id="Rconconnect">Connectar</button>
                            </div>
                            
                        </div>
                        <div class="collapse collapse-plus bg-slate-900 border-cyan-700 border-4 hover:bg-slate-700">
                            <input type="radio" id="acordiondefaultnocheck" name="my-accordion-2" />
                            <div class="collapse-title text-xl font-medium">Minecraft plugin server</div>
                            <div class="collapse-content">
                                <h1 class="text-xl font-bold mb-4">ServerTap Plugin Configuration</h1>
                                
                            <div class="grid grid-cols-2 gap-4 max-w-xl mx-4">
                                <label for="ip" >IP</label>
                                <input type="text" id="ip" value="127.0.0.1">
                                <label for="port" >Port</label>
                                <input type="text" id="port" value="4567">
                                <label for="password" >Password</label>
                                <input type="text" id="password" value="change_me">
                            
                            </div>
                            <button class="btn btn-primary" id="testConnection">Connectar</button>
                            </div>
                            
                        </div>
                    <div id="output"></div>


                <div id="resultMessage"></div>

                </div>
                
                <dialog id="my_modal_2" class="modal">
                    <div class="modal-box">
                      <h3 class="text-lg font-bold" id="modal-title">Title</h3>
                      <p class="py-4" id="modal-content">Content</p>
                    </div>
                    <form method="dialog" class="modal-backdrop bg-transparent">
                      <button>close</button>
                    </form>
                  </dialog>
                <div class="containerbox">

                    
                Sugerencias y comandos 
                <div class="dropdown dropdown-end">
                <div tabindex="0" role="button" class="btn btn-circle btn-ghost btn-xs text-info">
                    <svg
                    tabindex="0"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    class="h-4 w-4 stroke-current">
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <div
                    tabindex="0"
                    class="card compact dropdown-content bg-base-100 rounded-box z-[1] w-64 shadow">
                    <div tabindex="0" class="card-body">
                    <h1>Puedes reemplazar los siguiente por tus valores automaticamente</h1>
                    Playername       por  tu usuario de Minecraft     
                    <br>
                    uniqueId         por  cada USUARIO              
                    <br>
                    nickname         por  cada USUARIO                  
                    <br>
                    comment          por  COMENTARIO                   
                    <br>
                    {milestoneLikes} por  los LIKES                    
                    <br>
                    {likes}          por  los LIKES                   
                    <br>
                    giftName         por  los REGALOS                 
                    <br>
                    repeatCount      por  repeticiones de GIFT      
                    </div>
                </div>
                </div>


                    <!-- <input type="checkbox" id="sugerencia" class="sugerencia">
                    <label for="sugerencia">⁉️ Sugerencias</label>


                    <div class="sugerencia-content">
                        playername       por  de  TU USUARIO DE MINECRAFT        
                        <br>
                        uniqueId         por  del USUARIO              
                        <br>
                        nickname         por  de  NOMBRE DE USUARIO                  
                        <br>
                        comment          por  del COMENTARIO                   
                        <br>
                        {milestoneLikes} por  de LOS LIKES                    
                        <br>
                        {likes}          por  de LIKES             
                        <br>
                        message          por  de  MENSAJE               
                        <br>
                        giftName         por  de  LOS REGALOS                 
                        <br>
                        repeatCount      por  de   REPETICIONES EN GIFT                 
                    </div> -->
                    <details class="collapse border-2 border-blue-500  bg-blue-950 hover:bg-blue-900">
                        <summary class="collapse-title text-xl font-medium">Click Aqui para que puedas editar tus comandos para el chat seguidores cada vez que dan like y comparten
                            tambien son los comandos por defecto de LIKES GIFT Y CHAT si no se encuentra ningun comando personalizado
                        </summary>
                        <div class="collapse-content">
                            <div>
                                <div id="gift" class="flex justify-center text-cyan-600 text-4xl">Gift</div>
                                <textarea id="giftcommands" class="textarea textarea-info mx-6" rows="4"></textarea>
                              </div>
                              <div>
                                <div id="chat" class="flex justify-center text-cyan-600 text-4xl">chat</div>
                                <textarea id="chatcommands" class="textarea textarea-info mx-6" rows="4"></textarea>
                              </div>
                              <div>
                                <div id="likes" class="flex justify-center text-cyan-600 text-4xl">likes</div>
                                <textarea id="likescommands" class="textarea textarea-info mx-6" rows="4"></textarea>
                              </div>
                              <div>
                                <div id="follow" class="flex justify-center text-cyan-600 text-4xl">follow</div>
                                <textarea id="followcommands" class="textarea textarea-info mx-6" rows="4"></textarea>
                              </div>
                              <div>
                                <div id="share" class="flex justify-center text-cyan-600 text-4xl">share</div>
                                <textarea id="sharecommands" class="textarea textarea-info mx-6" rows="4"></textarea>
                              </div>
                              <div>
                                <div id="welcome" class="flex justify-center text-cyan-600 text-4xl">welcome</div>
                                <textarea id="welcomecommands" class="textarea textarea-info mx-6" rows="4"></textarea>
                              </div>
                              <div>
                                <div id="envelope" class="flex justify-center text-cyan-600 text-4xl">envelope</div>
                                <textarea id="envelopecommands" class="textarea textarea-info mx-6" rows="4"></textarea>
                              </div>
                              <div>
                                <div id="subscribe" class="flex justify-center text-cyan-600 text-4xl">subscribe</div>
                                <textarea id="subscribecommands" class="textarea textarea-info mx-6" rows="4"></textarea>
                              </div>
                              <div class="tooltip tooltip-right tooltip-info" data-tip="guarda todos los cambios con Guardar Cambios">
                                <button class="btn">No olvides ??</button>
                                <button class="custombutton" id="saveAllChanges">Guardar Cambios</button>
                              </div>
                              
                      
                    </div>
                   
                      </details>


                    <div class="flex justify-center relative text-cyan-600 text-4xl">gift</div>
                      <div id="eventsContainer"></div>
                      <h1 class="text-2xl font-bold mb-4">Añadir eventos de minecraft Gift List</h1>
                      <select id="gift-title" class="select select-info w-full"></select>
                      <textarea id="gift-description" class="textarea textarea-info w-full" placeholder="comandos de minecraft"></textarea>
                      <button id="addgift-button" class="custombutton bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-300">Add Gift</button>
                      <div class="collapse border-2 border-blue-500  bg-blue-950 hover:bg-blue-900">
                        <input type="radio" name="my-accordion-commandos" checked="checked" />
                        <div class="collapse-title text-xl font-medium">Click ver y editar gift-list</div>
                        <div class="collapse-content">
                            <ul id="gift-list" class="mt-4 list-disc pl-5"></ul>
                        </div>
                      </div>


                      <h1 class="text-2xl font-bold mt-8 mb-4">Chat List</h1>
                      <input type="text" id="chat-title" class="input input-bordered w-full" placeholder="chat Title">
                      <textarea id="chat-description" class="textarea textarea-info w-full" placeholder="Comment Description"></textarea>
                      <button id="addchat-button" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-300">Add Chat</button>
                      <div class="collapse border-2 border-blue-500  bg-blue-950 hover:bg-blue-900">
                        <input type="radio" name="my-accordion-commandos" />
                        <div class="collapse-title text-xl font-medium">Click ver y editar chat-list</div>
                        <div class="collapse-content">
                            <ul id="chat-list" class="mt-4 list-disc pl-5"></ul>

                        </div>
                      </div>
                      <h1 class="text-2xl font-bold mt-8 mb-4">Likes List</h1>
                      <input type="number" id="likes-title" class="input input-bordered w-full" placeholder="likes Title">
                      <textarea id="likes-description" class="textarea textarea-info w-full" placeholder="likes Description"></textarea>
                      <button id="addlikes-button" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-300">Add Likes</button>
                      
                      <div class="collapse border-2 border-blue-500  bg-blue-950 hover:bg-blue-900">
                        <input type="radio" name="my-accordion-commandos" />
                        <div class="collapse-title text-xl font-medium">Click ver y editar likes-list</div>
                        <div class="collapse-content">
                            <ul id="likes-list" class="mt-4 list-disc pl-5"></ul>
                        </div>
                      </div>
                      <h2>Aqui puedes agregar comandos de eventos de minecraft con un solo texto</h2>

                      <div class="collapse border-2 border-blue-500  bg-blue-950 hover:bg-blue-900">
                        <input type="radio" name="my-accordion-commandos" />
                        <div class="collapse-title text-xl font-medium">Parsero de comandos</div>
                        <div class="collapse-content">
                            <input type="text" id="event-store-name" class="input input-bordered w-full" placeholder="titulo">
                            <textarea id="event-data" class="textarea textarea-info w-full" placeholder="Pega aquí los comandos"></textarea>
                            <button class="btn btn-primary mt-4" id="add-event-button">Añadir comandos</button>
                        </div>
                      </div>

                      <label for="eventType" class="m-4 text-red-600 font-bold text-4xl"> Test comando:</label><div> 
                        <input type="text" id="eventType" placeholder="Evento a testear" value="gift">
                        <label for="data"></label>
                        <input type="text" id="data" placeholder="Default">
                        <button class="m-4 custombutton" id="testHandleevent" >Test comando</button>
                    <div id="lastcomandsended"></div> 
                      </div>

                    <div class="collapse border-2 border-blue-500  bg-blue-950 hover:bg-blue-900">
                        <input type="radio" name="my-accordion-commandos" checked="checked" />
                        <div class="collapse-title text-xl font-medium">Generador de Comandos de Minecraft</div>
                        <div class="collapse-content">
                            <div class="container mx-auto p-4">
                                <h1 class="text-2xl font-bold mb-4">Generador de Comandos de Minecraft</h1>
                                
                                <div class="form-group mb-4">
                                    <label for="playerName" class="block font-semibold">Nombre del Jugador:</label>
                                    <input type="text" id="playerName" class="border p-2 w-full" placeholder="Introduce tu nombre">
                                </div>
                                
                                <div class="form-group mb-4">
                                    <label for="action" class="block font-semibold">Acción:</label>
                                    <select id="action" class="border p-2 w-full">
                                        <option value="summon">Summon</option>
                                        <option value="give">Give</option>
                                        <option value="title">Title</option>
                                        <option value="subtitle">Subtitle</option>
                                        <option value="tellraw">Tellraw</option>
                                        <option value="actionbar">Actionbar</option>
                                        <option value="setblock">setblock</option>
                                    </select>
                                </div>
                                
                                <div class="form-group mb-4" id="mobTypeGroup">
                                    <label for="mobType" class="block font-semibold">Tipo de Mob:</label>
                                    <select id="mobType" class="border p-2 w-full"></select>
                                </div>
                                
                                <div class="form-group mb-4" id="mobOptionsGroup" style="display: none;">
                                    <label for="mobOptions" class="block font-semibold">Opciones de Mob:</label>
                                    <input type="text" id="mobOptions" class="border p-2 w-full" placeholder="key:value,key:value">
                                </div>
                                
                                <div class="form-group mb-4" id="itemTypeGroup" style="display: none;">
                                    <label for="itemType" class="block font-semibold">Tipo de Item:</label>
                                    <select id="itemType" class="border p-2 w-full"></select>
                                </div>
                                
                                <div class="form-group mb-4" id="setblockGroup" style="display: none;">
                                    <label for="setblock" class="block font-semibold">Tipo de Item:</label>
                                    <select id="setblock" class="border p-2 w-full"></select>
                                </div>
                        
                                <div class="form-group mb-4" id="messageGroup" style="display: none;">
                                    <label for="message" class="block font-semibold">Mensaje:</label>
                                    <input type="text" id="message" class="border p-2 w-full" placeholder="Introduce tu mensaje">
                                </div>
                                
                                <div class="form-group mb-4" id="messageOptionsGroup" style="display: none;">
                                    <label for="messageOptions" class="block font-semibold">Opciones de Mensaje:</label>
                                    <input type="text" id="messageOptions" class="border p-2 w-full" placeholder="key:value,key:value">
                                </div>
                                
                                <button id="generateCommand" class="btn btn-primary">Generar Comando</button>
                                
                                <div id="outputcommand" class="mt-4"></div>
                            </div>
                            <div id="mine_content"></div>
                        </div>
                      </div>
            </div>
            </div>
            <div id="tab3" class="tab-content">
                <div class="containerbox">
                    <h1>YT Music Search</h1>
                    <div id="search-container">
                        <input type="text" id="searchInput" placeholder="Search for songs...">
                        <button id="searchButtonYT">Search</button>
                    </div>
                    
                    <div id="ytmusic-container"></div>
                    <div id="player-container"></div>
                    <button id="skipButton" class="btn btn-secondary">Skip</button>
                    <div id="playlist-container"></div>
                </div>

            </div>
            <div id="tab4" class="tab-content">
                <div class="containerbox">       
                    <div class="center-element">arrastre elementos aquí</div>
            
                    <div class="file-container " id="drop-area">
                        <ul id="file-list"> </ul>
                    </div>
                        
                    </div>
                    
                <div class="containerbox">
                        <div id="tab5-action"></div>
                        <button id="openaction" class="custombutton button-center">Añadir Accion&Eeventos</button>
                        <button id="closeaction" class="deleteButton">Cerrar</button>
                        <div id="loadrowactionsevents"></div>
                        <div>
                            <input type="text" id="action-name" placeholder="action name">
                            <button id="testactionevent" class="btn btn-primary">test</button>
                        </div>
        
                </div>
                <div class="containerbox">
                    ----------------------------------------------FIN-----------
                    <div class="modalhtml"></div>
            
                    <button id="open" style="display: none;">open</button>
                    <button id="close" style="display: none;">close</button>
                    
                    <div id="chatbox"></div>
                    </div>
            </div>
            <div id="tab5" class="tab-content">
                <div id="giftContainer" class="gift-container">
                    <!-- Aquí se agregarán dinámicamente los cuadros de regalo -->
                </div>
                <div id="downloadButtonContainer"></div>
        
            </div>
            <div id="tab6" class="tab-content">
                <div class="containerbox">
                    <label for="importButton" class="custom-file-upload">subir⚙</label>
                    <input type="file" id="importButton" style="display:none">
                    <button class="custombutton" onclick="importSettings()">Importar⚙</button>
                    <button class="custombutton" id="exportButton" onclick="exportSettings()">Exportar⚙</button>
                    <span id="loadingIndicator" style="display: none;">Cargando...</span>
                    <button id="exportDB">Exportar Base de Datos</button>
                <input type="file" id="importDB" style="display: none;">
                <button id="importDBButton">Importar Base de Datos</button>
                </div>
                <div class="containerbox">
                    <div class="center-element">
                        URL OVERLAY MENSAJES EVENTOS Y GIFTS http://localhost:8081/overlay/overlay.html
                    </div>
                    <label class="cyberpunk-checkbox-label">
                        <input type="checkbox" class="cyberpunk-checkbox" id="sendDataCheckbox" checked>
                        mixitupAlerts
                    </label>
                    <div class="flexbox">
                        <h3>Testing handle events</h3>
                        <select name="testselectevent" id="testselectevent"></select>
                        <select name="testselectfunction" id="testselectfunction"></select>
                        <button class="custombutton" id="testHandleeventselect" >Test comando</button>
                    </div>
                    <script>
                        const events = [
                            "gift",
                            "chat",
                            "likes",
                            "share",
                            "welcome",
                            "envelope",
                            "subscribe"
                        ]
                        const testfunctionselect = [
                            "minecraftlive",
                            "leerMensajes",
                            "eventmanager"
                        ]
                        function testEventypeappend() {
                            const selecttestevent = document.getElementById('testselectevent');
                            const selecttestfunction = document.getElementById('testselectfunction');
                            selecttestevent.innerHTML = '';
                            selecttestfunction.innerHTML = '';
                            events.forEach(event => {
                                const option = document.createElement('option');
                                option.text = event;
                                option.value = event;
                                selecttestevent.appendChild(option);
                            });
                            testfunctionselect.forEach(functions => {
                                const option = document.createElement('option');
                                option.text = functions;
                                option.value = functions;
                                selecttestfunction.appendChild(option);
                            });
                        }
                        testEventypeappend();
                    </script>
                </div>

            </div>
        </div>
        <div class="divfooter">
            <audio id="audio" controls autoplay>
            </audio>
            <audio id="soundPlayer" type="audio/mp3"></audio>
            <input id="skip-button" type="button" class="btn btn-primary" value="SKIP"> </button>

            <div id="durationDisplay"></div>
            <div id="roomStats"></div>    

        </div>
    </div>

        <!-- Contenido de las pestañas -->

    <script>

        document.addEventListener('DOMContentLoaded', () => {
          const tabs = document.querySelectorAll('.tabs');
          const tabContents = document.querySelectorAll('.tab-content');
      
          function activateTab(tab) {
              const tabId = tab.getAttribute('data-tab');
              const content = document.getElementById(tabId);
      
              // Deactivate all tabs and content
              tabs.forEach(t => t.classList.remove('active'));
              tabContents.forEach(c => c.classList.remove('active'));
      
              // Activate the selected tab and content
              tab.classList.add('active');
              content.classList.add('active');
      
              // Store the last active tab in localStorage
              localStorage.setItem('activeTab', tabId);
          }
      
          // Add event listeners to tabs
          tabs.forEach(tab => {
              tab.addEventListener('click', () => activateTab(tab));
          });
      
          // Check for the last active tab in localStorage
          const lastActiveTab = localStorage.getItem('activeTab');
          if (lastActiveTab) {
              const tab = document.querySelector(`.tabs[data-tab="${lastActiveTab}"]`);
              if (tab) {
                  activateTab(tab);
              } else {
                  activateTab(tabs[0]); // Fallback to the first tab if the stored tab doesn't exist
              }
          } else {
              activateTab(tabs[0]); // Default to the first tab
          }
      });
      
      </script>
</body>
<!-- <script src="script.js"></script> -->

</html>